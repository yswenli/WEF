[
  {
    "Name": "Oceania.Common.Data",
    "Content": "using Oceania.Common.Data;\r\nusing Oceania.Common.Model;\r\nusing Oceania.Data.Redis;\r\nusing Oceania.ShopConfigService.Models.DataBase;\r\n\r\nusing WEF;\r\nusing WEF.Expressions;\r\n\r\nnamespace [namespace]\r\n{\r\n    /// <summary>\r\n    /// 数据操作类\r\n    /// </summary>\r\n    public class [className]Operator : BaseOperator<[className]>\r\n    {\r\n        /// <summary>\r\n        /// 市场数据操作类,\r\n        /// 使用默认的配置\r\n        /// </summary>\r\n        public [className]Operator() : base()\r\n        {\r\n\r\n        }\r\n\r\n        /// <summary>\r\n        /// 添加实体\r\n        /// </summary>\r\n        /// <param name=\"entity\"></param>\r\n        /// <returns></returns>\r\n        public bool Add([className] entity)\r\n        {\r\n            return BaseRepository.Insert(entity) > 0;\r\n        }\r\n\r\n        /// <summary>\r\n        /// 更新\r\n        /// </summary>\r\n        /// <param name=\"entity\"></param>\r\n        /// <returns></returns>\r\n        public bool Update([className] entity)\r\n        {\r\n            return BaseRepository.Update(entity) > 0;\r\n        }\r\n\r\n        /// <summary>\r\n        /// 获取\r\n        /// </summary>\r\n        /// <param name=\"id\"></param>\r\n        /// <returns></returns>\r\n        public [className] Get(string id)\r\n        {\r\n            return BaseRepository.Search().Where(b => b.ID == id).First();\r\n        }\r\n\r\n\r\n        /// <summary>\r\n        /// 获取分页列表\r\n        /// </summary>\r\n        /// <param name=\"pagination\"></param>\r\n        /// <returns></returns>\r\n        public PagedList<[className]> GetList(Pagination pagination)\r\n        {\r\n            PagedList<[className]> result = new PagedList<[className]>()\r\n            {\r\n                PageIndex = pagination.PageIndex,\r\n                PageSize = pagination.PageSize\r\n            };\r\n\r\n            var count = BaseRepository.Search().Count();\r\n\r\n            result.Total = count;\r\n\r\n            if (count > 0)\r\n            {\r\n                var data = BaseRepository.DBContext.FromSql(\"select * from OC_Marketing\", pagination.PageIndex, pagination.PageSize, pagination.OrderBy, !pagination.Desc).ToList<[className]>();\r\n\r\n                result.List = data;\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        /// <summary>\r\n        /// 删除\r\n        /// </summary>\r\n        /// <param name=\"id\"></param>\r\n        /// <returns></returns>\r\n        public bool Delete(string id)\r\n        {\r\n            var entity = Get(id);\r\n\r\n            if (entity != null)\r\n            {\r\n               return BaseRepository.Delete(entity)>0;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    }\r\n}"
  },
  {
    "Name": "Oceania.Common.Services",
    "Content": "using System.Collections.Generic;\r\n\r\nusing Oceania.Common.Model;\r\n\r\nnamespace [namespace]\r\n{\r\n    /// <summary>\r\n    /// [className]相关业务\r\n    /// </summary>\r\n    public class [className]Service\r\n    {\r\n        [className]Operator _operator;\r\n\r\n        /// <summary>\r\n        /// 业务处理\r\n        /// </summary>\r\n        public [className]Service()\r\n        {\r\n            _operator = new [className]Operator();\r\n        }\r\n\r\n        /// <summary>\r\n        /// 添加\r\n        /// </summary>\r\n        /// <param name=\"entity\"></param>\r\n        /// <returns></returns>\r\n        public DataResult<bool> Add[className]([className] entity)\r\n        {\r\n            return DataResult<bool>.SetResult(_operator.Add(entity));\r\n        }\r\n        /// <summary>\r\n        /// 更新\r\n        /// </summary>\r\n        /// <param name=\"entity\"></param>\r\n        /// <returns></returns>\r\n        public DataResult<bool> Update[className]([className] entity)\r\n        {\r\n            return DataResult<bool>.SetResult(_operator.Update(entity));\r\n        }\r\n        /// <summary>\r\n        /// 删除\r\n        /// </summary>\r\n        /// <param name=\"id\"></param>\r\n        /// <returns></returns>\r\n        public DataResult<bool> Delete[className](string id)\r\n        {\r\n            return DataResult<bool>.SetResult(_operator.Delete(id));\r\n        }\r\n        /// <summary>\r\n        /// 获取\r\n        /// </summary>\r\n        /// <param name=\"id\"></param>\r\n        /// <returns></returns>\r\n        public DataResult<[className]> Get[className](string id)\r\n        {\r\n            return DataResult<[className]>.SetResult(_operator.Get(id));\r\n        }\r\n        /// <summary>\r\n        /// 获取[className]分页列表\r\n        /// </summary>\r\n        /// <param name=\"pagination\"></param>\r\n        /// <returns></returns>\r\n        public DataResult<PagedList<[className]>> Get[className]List(Pagination pagination)\r\n        {\r\n            return DataResult<PagedList<[className]>>.SetResult(_marketingOperator.GetList(pagination));\r\n        }\r\n    }\r\n}"
  },
  {
    "Name": "Oceania.Common.Controllers",
    "Content": "using System.Collections.Generic;\r\nusing System.Linq;\r\n\r\nusing Microsoft.AspNetCore.Authorization;\r\nusing Microsoft.AspNetCore.Hosting;\r\nusing Microsoft.AspNetCore.Http;\r\nusing Microsoft.AspNetCore.Mvc;\r\nusing Microsoft.Extensions.Configuration;\r\n\r\nusing Oceania.Common;\r\nusing Oceania.Common.AspNetCore;\r\nusing Oceania.Common.AspNetCore.JWT;\r\nusing Oceania.Common.AspNetCore.Model;\r\nusing Oceania.Common.Model;\r\nusing Oceania.Common.ThirdPartySales.Amazon;\r\n\r\nnamespace [namespace]\r\n{\r\n    /// <summary>\r\n    /// [className]控制器\r\n    /// </summary>\r\n    public class [className]Controller : BaseController\r\n    {\r\n        [className]Service _service;\r\n\r\n        /// <summary>\r\n        /// [className]控制器\r\n        /// </summary>\r\n        public [className]Controller()\r\n        {\r\n            _service = new [className]Service();\r\n        }\r\n\r\n        /// <summary>\r\n        /// 添加[className]\r\n        /// </summary>\r\n        /// <param name=\"entity\"></param>\r\n        /// <returns></returns>\r\n        [HttpPost]\r\n        public JsonResult<bool> Add[className]([FromBody][className] entity)\r\n        {\r\n            return _service.Add[className](entity).ToJsonResult();\r\n        }\r\n\r\n        /// <summary>\r\n        /// 修改[className]\r\n        /// </summary>\r\n        /// <param name=\"entity\"></param>\r\n        /// <returns></returns>\r\n        [HttpPost]\r\n        public JsonResult<bool> Update[className]([FromBody] [className] entity)\r\n        {\r\n            return _service.Update[className](entity).ToJsonResult();\r\n        }\r\n        /// <summary>\r\n        /// 获取[className]\r\n        /// </summary>\r\n        /// <param name=\"id\"></param>\r\n        /// <returns></returns>\r\n        [HttpGet]\r\n        public JsonResult<[className]> Get[className](string id)\r\n        {\r\n            _service.Get[className](id).ToJsonResult();\r\n        }\r\n        /// <summary>\r\n        /// 获取[className]分页列表\r\n        /// </summary>\r\n        /// <param name=\"pagination\"></param>\r\n        /// <returns></returns>\r\n        [HttpGet]\r\n        public JsonResult<PagedList<[className]>> Get[className]List(Pagination pagination)\r\n        {\r\n            //此处检查代码建议放置在service中，当前只是示例\r\n            if (!pagination.RequiredCheck(out DataResult<PagedList<OCMarketing>> result))\r\n            {\r\n                return JsonResult<PagedList<OCMarketing>>.FromDataResult(result);\r\n            }\r\n            return _service.Get[className]List(pagination).ToJsonResult();\r\n        }\r\n\r\n        /// <summary>\r\n        /// 删除[className]\r\n        /// </summary>\r\n        /// <param name=\"id\"></param>\r\n        /// <returns></returns>\r\n        [HttpPost]\r\n        public JsonResult<bool> Delete[className](string id)\r\n        {\r\n            _service.Delete[className](id).ToJsonResult();\r\n        }\r\n    }\r\n}"
  }
]